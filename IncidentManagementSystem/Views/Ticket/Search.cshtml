@using IncidentManagementSystem.Model
@model List<TicketDto>
@{
    int sno = 0; // Initialize serial number
}

<div class="panel panel-default overflow-auto" style="max-height:600px">
    <table class="table table-striped">
        <thead class="whitespace-nowrap">
            <tr>
                <th>S No.</th>
                <th>Ticket Id</th>
                <th>Institution Name </th>
                <th>Service Name</th>
                <th>Issue</th>
                <th>CellNumber</th>
                <th>Email</th>
                <th>Status</th>
                <th>Detail</th>


            </tr>
        </thead>
        <tbody class="whitespace-nowrap">
            @foreach (var item in Model)
            {
                sno++;
                <tr>
                    <td>@sno</td>
                    <td>@item.TicketId</td>
                    <td>@item.InstId</td>
                    <td>@item.ServiceId</td>
                    <td>@item.IssueId</td>
                    <td>@item.CellNumber</td>
                    <td>@item.Email</td>
                    <td>
                        @{
                            switch (item.status)
                            {
                                case "00":
                                    <label style="color: green">Active</label>
                                    break;
                                case "98":
                                    <label style="color: darkorange">Pending</label>
                                    break;
                                case "LO":
                                    <label>Initial</label>
                                    break;
                                case "94":
                                    <label style="color: red">Rejected</label>
                                    break;
                            }
                        }
                    </td>

                    <td>
                        @Html.ActionLink("Details", "TicketDetail", "Ticket", new RouteValueDictionary { { "TicketId", item.TicketId } }, null) |
                        @Html.ActionLink("Resolve", "TicketResolve", "Ticket", new RouteValueDictionary { { "TicketId", item.TicketId } }, null)
                    </td>
                </tr>
            }
        </tbody>
    </table>

</div>

