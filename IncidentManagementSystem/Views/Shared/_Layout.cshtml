@using Microsoft.AspNet.Identity
<!DOCTYPE html>
<html style="height:100%">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title FinTrack</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />

    <link href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css" rel="stylesheet" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="~/Content/login-style.css" rel="stylesheet" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" />
    <!--==== Boxicons CSS ====-->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>




</head>
<body @*style="overflow: hidden;"*@>
    <nav class="sidebar">
        <img src="~/Image/Logo.png" id="logo" />

        @if (User.Identity.IsAuthenticated)
        {

            <div class="menu-content">
                <div class="menu-items" style="padding-left:0rem !important;">


                    <div class="item">
                        @Html.Raw(Html.ActionLink("Dashboad", "Dashboard", "Home", new { area = "" }, new { @class = "nav-link" }).ToString().Replace("Dashboad", "<span class='bx bxs-dashboard icon'></span> Dashboard"))
                    </div>

                    @if (User.IsInRole("SuperAdmin") || User.IsInRole("Admin") || User.IsInRole("Developer"))
                    {
                        <div class="item">
                            <a href="#" class="sidebar-link collapsed has-dropdown" data-bs-toggle="collapse" data-bs-target="#Detail" aria-expanded="false" aria-controls="Detail">
                                <i class="bx bxs-collection icon"></i>
                                <span>Detail</span>
                                <i class='bx bx-chevron-down'></i>
                            </a>
                            <div id="Detail" class="sidebar-dropdown list-unstyled collapse" data-bs-parent="#sidebar">

                                <ul>


                                    <li class="item">
                                        @Html.Raw(Html.ActionLink("UserDetail", "index", "User", new { area = "" }, new { @class = "nav-link" }).ToString().Replace("UserDetail", "<span class='bx bxs-user-detail icon'></span> User Detail"))
                                    </li>

                                    <li class="item">
                                        @Html.Raw(Html.ActionLink("InstitutionDetail", "index", "Institution", new { area = "" }, new { @class = "nav-link" }).ToString().Replace("InstitutionDetail", "<span class='bx bxs-building-house icon'></span> Institution Detail"))
                                    </li>

                                </ul>
                            </div>
                        </div>
                    }
                    @if (User.IsInRole("SuperAdmin"))
                    {
                        <div class="item" id="sidebar">
                            <a href="#" class="sidebar-link collapsed has-dropdown" data-bs-toggle="collapse" data-bs-target="#auth" aria-expanded="false" aria-controls="auth">
                                <i class="bx bxs-user icon"></i>
                                <span>Register</span>
                                <i class='bx bx-chevron-down'></i>
                            </a>
                            <div id="auth" class="sidebar-dropdown list-unstyled collapse" data-bs-parent="#sidebar" @*style=" border: 0.5px solid #000000;style=" background: #D1FFBD;*@>
                                <ul>

                                    <li class="item">
                                        @Html.Raw(Html.ActionLink("User Register", "Register", "Account", new { area = "" }, new { @class = "nav-link" }).ToString().Replace("User Register", "<span class=' bx bxs-user-plus icon'></span> User Register"))
                                    </li>

                                    <li class="item">
                                        @Html.Raw(Html.ActionLink("Institution Register", "InstitutionRegister", "Institution", new { area = "" }, new { @class = "nav-link" }).ToString().Replace("Institution Register", "<span class='bx bxs-institution icon'></span> Institution Register"))

                                    </li>

                                    <li>
                                        @Html.Raw(Html.ActionLink("ServiceLink", "Create", "Product", new { area = "" }, new { @class = "nav-link" }).ToString().Replace("ServiceLink", "<span class='bx bxs-cog icon'></span> Service"))
                                    </li>

                                </ul>
                            </div>
                        </div>
                    }


                    <div class="item">
                        <a href="#" class="sidebar-link collapsed has-dropdown" data-bs-toggle="collapse" data-bs-target="#multi" aria-expanded="false" aria-controls="multi">
                            <i class="bx bxs-plus-circle icon"></i>
                            <span>Ticket</span>
                            <i class='bx bx-chevron-down'></i>
                        </a>
                        <div id="multi" class="sidebar-dropdown list-unstyled collapse" data-bs-parent="#sidebar">
                            <ul>
                                <li class="item">
                                    @Html.Raw(Html.ActionLink("TicketLink", "Create", "Ticket", new { UserName = User.Identity.Name }, new { @class = "nav-link" }).ToString().Replace("TicketLink", "<span class='bx bxs-plus-circle icon'></span> Create"))
                                </li>
                                @*@if (User.IsInRole("SuperAdmin") || User.IsInRole("Admin") || User.IsInRole("Developer"))
                                {*@
                                    <li class="item">
                                        @Html.Raw(Html.ActionLink("TicketIndexLink", "Index", "Ticket", new { area = "" }, new { @class = "nav-link" }).ToString().Replace("TicketIndexLink", "<span class='bx bx-search icon'></span> Search"))
                                    </li>
                                @*}*@
                            </ul>
                        </div>
                    </div>

                    @*<div class="item">
                        </div>*@
                </div>
                <footer class="sidebar-footer">
                    @using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "sidebar-footer" }))
                    {
                        @Html.AntiForgeryToken()
                        <div class="menu-content">
                            <ul class="menu-items" style="padding-left:0rem !important;">
                                <li class="item">
                                    <a class="nav-link" href="javascript:document.getElementById('logoutForm').submit()">
                                        <i class="bx bxs-log-out icon"></i>
                                        <span>Logout</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    }
                </footer>
            </div>
        }
    </nav>
    <nav class="navbar" style="position:relative">
        <i class="fa-solid fa-bars" id="sidebar-close"></i>
        @if (Request.IsAuthenticated)
        {
            <label style="margin-bottom:0px;">@User.Identity.GetUserName()</label>
            @*@Html.ActionLink(User.Identity.GetUserName() + "!", "Index", "Manage", routeValues: null, htmlAttributes: new { title = "Manage", @class = "nav-link" })*@
        }
    </nav>
    <div class="main" style="padding-bottom:60px">

        @*<div style="display:none">*@
        @RenderBody()
        @*</div>*@
        @*<hr />
            <footer>
                <p>&copy; @DateTime.Now.Year - My ASP.NET Application</p>
            </footer>*@
    </div>

    @*<script src="/Content/JavaScript-sidebar.js"></script>*@
    @*<script src="~/Content/JavaScript-sidebar.js"></script>*@
    <script type="text/javascript" src="~/Content/JavaScript-sidebar.js"></script>
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)
</body>
</html>
