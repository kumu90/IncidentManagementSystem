@using IncidentManagementSystem.Model
@model List<TicketDto>

@{
    int sno = 0; // Initialize serial number
                 //int sno = (ViewBag.CurrentPage - 1) * ViewBag.Offset;
}


<style>
    .table.one {
        border: 1px solid #dee2e6 !important;
    }

        .table.one td {
            padding: 0.5rem !important;
        }


    /*       testing*/
    /*.progress-vertical {
        width: 1px;
        height: 200px;*/ /* Adjust height as needed */
    /*margin-right: 2rem;*/ /* Space between the progress bar and buttons */
    /*position: relative;
    }

    .progress-bar-vertical {
        width: 100%;
        height: 100%;
    }

    .btn-wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        position: relative;
    }

        .btn-wrapper button {
            margin: 0.5rem 0;*/ /* Space between buttons */
    /*}*/
</style>

@if (Model != null && Model.Any())
{
         <div class="position-relative m-4" style="height: 220px; font-family: outfit-black;">
            <div class="" style="height: 100%;">
                @foreach (var (item ,index ) in Model.Select((value, i) => (value, i)))
                {
                    sno++;
                    <div class="d-flex justify-content-between mb-2">

                        <div class="position-relative" style="flex: 1; top: @(index == 0 ? "0" : $"{index * 20}px")" >
                            @item.date.ToString("yyyy-MM-dd")
                        </div>

                        <div class="position-relative" style="height: 50%;  ">

                            <div class="progress" style="width: 1px; height: 100%; background-color: #e9ecef;  ">
                                <div class="progress-bar" role="progressbar" style="position: absolute; top: @(index == 0 ? "28px" :$"{28+ index * 20 }px");  height: 20px; width: 100%;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>

                            <button type="button" class="position-absolute  translate-middle-x btn btn-sm btn-primary rounded-pill"
                                    style="position: absolute; width: 2rem; height: 2rem; transform: translateX(-50px); top: @(index == 0 ? "0" : $"{index * 20}px"); ">@sno</button>

                        </div>

                        <div class="position-relative text-center" style="flex: 1; top: @(index == 0 ? "0" : $"{index * 20}px"); left:85px">
                            @item.ServiceName
                        </div>

                    </div>
                 }
            </div>
        </div>
 }
       else
       {
       @*<table class="table one">
           <thead class="whitespace-nowrap">
               <tr>
                   <th>S No.</th>
                   <th>Date</th>
                   <th>Service Name</th>
               </tr>
           </thead>
       </table>*@

       <h5 class="mt-3">No Recent Activity</h5>
       }

     