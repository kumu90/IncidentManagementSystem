@model IEnumerable<IncidentManagementSystem.Model.UserInfo>

@{
    //int sno = 0; // Initialize serial number
    int sno = (ViewBag.CurrentPage - 1) * ViewBag.Offset;
}
<style>
    .pagination {
        display: inline-block;
        padding: 0;
        margin: 0;
        border-radius: 5px;
    }

        .pagination a,
        .pagination span {
            display: inline-block;
            padding: 8px 16px;
            margin: 0 4px;
            text-decoration: none;
            color: #007bff;
            border: 1px solid #dee2e6;
            border-radius: 3px;
            font-size: 16px;
            cursor: pointer;
        }

            .pagination a.active {
                background-color: #007bff;
                color: white;
                border: 1px solid #007bff;
            }

            .pagination a:hover:not(.active) {
                background-color: #f1f1f1;
            }

        .pagination span {
            color: #6c757d;
            border: 1px solid #dee2e6;
            cursor: default;
        }

        .pagination .disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .pagination .prev,
        .pagination .next {
            font-weight: bold;
        }
</style>
@if (Model != null && Model.Any())
{
    <div class="panel panel-default overflow-auto" style="max-height: 490px; height: 490px;">
        <table class="table table-striped">
            <thead class="whitespace-nowrap">
                <tr>
                    <th>S No.</th>
                    <th>Username</th>
                    <th>InstId</th>
                    <th>Roles</th>
                    <th>Email</th>
                </tr>
            </thead>
            <tbody class="whitespace-nowrap">
                @foreach (var item in Model)
                {
                    sno++;
                    <tr>
                        <td>@sno</td>
                        <td>@item.Username</td>
                        <td>@item.InstId</td>
                        <td>@item.Roles</td>
                        <td>@item.Email</td>
                    </tr>
                }
            </tbody>

        </table>       
    </div>

}

<div class="text-end">
    <div class="pagination">
        @if (ViewBag.CurrentPage > 1)
        {
            <a href="#" onclick="searchUsers(@(ViewBag.CurrentPage - 1)); return false;">&laquo; Previous</a>
        }
        else
        {
            <span>&laquo; Previous</span>
        }

        @for (int i = 1; i <= ViewBag.TotalPages; i++)
        {
            <a href="#" onclick="searchUsers(@i); return false;" class="@(i == ViewBag.CurrentPage ? "active" : "")">@i</a>
        }

        @if (ViewBag.CurrentPage < ViewBag.TotalPages)
        {
            <a href="#" onclick="searchUsers(@(ViewBag.CurrentPage + 1)); return false;">Next &raquo;</a>
        }
        else
        {
            <span>Next &raquo;</span>
        }
    </div>
</div>


@*@Scripts.Render("~/bundles/bootstrap")*@
